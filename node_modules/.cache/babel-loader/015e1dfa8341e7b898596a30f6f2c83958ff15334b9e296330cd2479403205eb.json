{"ast":null,"code":"import React,{useState,useEffect}from'react';import useReactApexChart from'../hook/useReactApexChart';import ReactApexChart from'react-apexcharts';import{apiGet,apiPost}from\"../services/client\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardPieChart=()=>{// States for dynamic data\nconst[users,setUsers]=useState([]);const[totalUsers,setTotalUsers]=useState(0);const[activeUsers,setActiveUsers]=useState(0);const[inactiveUsers,setInactiveUsers]=useState(0);const[chartSeries,setChartSeries]=useState([]);// Fetch user data\nconst fetchUserData=async()=>{try{var _res$data;const res=await apiGet(\"admin/get-usercount\");if((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.status)===true){var _res$data2,_res$data3,_res$data4,_res$data4$data,_res$data5,_res$data5$data;console.log(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.data);setUsers(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.data);setChartSeries([res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:(_res$data4$data=_res$data4.data)===null||_res$data4$data===void 0?void 0:_res$data4$data.active_users,res===null||res===void 0?void 0:(_res$data5=res.data)===null||_res$data5===void 0?void 0:(_res$data5$data=_res$data5.data)===null||_res$data5$data===void 0?void 0:_res$data5$data.inactive_users]);}else{var _res$data6;console.log(res===null||res===void 0?void 0:(_res$data6=res.data)===null||_res$data6===void 0?void 0:_res$data6.message);}}catch(e){console.error(\"Error fetching user data:\",e);}};useEffect(()=>{fetchUserData();},[]);let basicDonutChartOptions={chart:{height:264,type:'donut'},colors:['#16a34a','#DC2626'],dataLabels:{enabled:false},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:false}}}],legend:{position:'right',offsetY:0,height:230,show:false}};return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100 p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header border-bottom bg-base py-16 px-24\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-lg fw-semibold mb-0\",children:\"Active & inactive Users\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body p-24 text-center d-flex flex-wrap align-items-start gap-5 justify-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[chartSeries?/*#__PURE__*/_jsx(ReactApexChart,{id:\"basicDonutChart\",className:\"w-auto d-inline-block\",options:basicDonutChartOptions,series:chartSeries,type:\"donut\",height:264}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-absolute start-50 top-50 translate-middle\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-secondary-light fw-medium\",children:\"Total Users\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:users===null||users===void 0?void 0:users.total_users})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-290-px w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between gap-12 border pb-12 mb-12 border-end-0 border-top-0 border-start-0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-light fw-medium text-sm\",children:\"Label\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-light fw-medium text-sm\",children:\"Value\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between gap-12 mb-12\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary-light fw-medium text-sm d-flex align-items-center gap-12\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-12-px h-12-px bg-success-600 rounded-circle\"}),\" \",\"Active Users\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-light fw-medium text-sm\",children:users===null||users===void 0?void 0:users.active_users})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between gap-12 mb-12\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary-light fw-medium text-sm d-flex align-items-center gap-12\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-12-px h-12-px bg-danger-600 rounded-circle\"}),\" \",\"Inactive users\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-light fw-medium text-sm\",children:users===null||users===void 0?void 0:users.inactive_users})]})]})]})]})});};export default DashboardPieChart;","map":{"version":3,"names":["React","useState","useEffect","useReactApexChart","ReactApexChart","apiGet","apiPost","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","DashboardPieChart","users","setUsers","totalUsers","setTotalUsers","activeUsers","setActiveUsers","inactiveUsers","setInactiveUsers","chartSeries","setChartSeries","fetchUserData","_res$data","res","data","status","_res$data2","_res$data3","_res$data4","_res$data4$data","_res$data5","_res$data5$data","console","log","active_users","inactive_users","_res$data6","message","e","error","basicDonutChartOptions","chart","height","type","colors","dataLabels","enabled","responsive","breakpoint","options","width","legend","show","position","offsetY","className","children","id","series","total_users"],"sources":["C:/Users/ATS/Downloads/power-c/src/components/DashboardPieChart.jsx"],"sourcesContent":["    import React, {useState,useEffect} from 'react'\r\n    import useReactApexChart from '../hook/useReactApexChart'\r\n    import ReactApexChart from 'react-apexcharts'\r\n    import { apiGet, apiPost } from \"../services/client\";\r\n    const DashboardPieChart = () => {\r\n\r\n        // States for dynamic data\r\n            const [users, setUsers] = useState([]);\r\n            const [totalUsers, setTotalUsers] = useState(0);\r\n            const [activeUsers, setActiveUsers] = useState(0);\r\n            const [inactiveUsers, setInactiveUsers] = useState(0);\r\n            const [chartSeries,setChartSeries] = useState([]);\r\n        \r\n            // Fetch user data\r\n            const fetchUserData = async () => {\r\n            try {\r\n                const res = await apiGet(\"admin/get-usercount\");\r\n                if (res?.data?.status === true) {\r\n                console.log(res?.data?.data);\r\n                setUsers(res?.data?.data);\r\n                setChartSeries([res?.data?.data?.active_users,res?.data?.data?.inactive_users])\r\n        \r\n                \r\n                } else {\r\n                console.log(res?.data?.message);\r\n                }\r\n            } catch (e) {\r\n                console.error(\"Error fetching user data:\", e);\r\n            }\r\n            };\r\n        \r\n            useEffect(() => {\r\n            fetchUserData();\r\n            }, []);\r\n\r\n\r\n            let basicDonutChartOptions = {\r\n\r\n                chart: {\r\n                    height: 264,\r\n                    type: 'donut',\r\n                },\r\n                colors: ['#16a34a', '#DC2626'],\r\n                dataLabels: {\r\n                    enabled: false\r\n                },\r\n                responsive: [{\r\n                    breakpoint: 480,\r\n                    options: {\r\n                        chart: {\r\n                            width: 200\r\n                        },\r\n                        legend: {\r\n                            show: false\r\n                        }\r\n                    }\r\n                }],\r\n                legend: {\r\n                    position: 'right',\r\n                    offsetY: 0,\r\n                    height: 230,\r\n                    show: false\r\n                }\r\n            };\r\n        \r\n        return (\r\n            <div className=\"col-md-12\">\r\n                <div className=\"card h-100 p-0\">\r\n                    <div className=\"card-header border-bottom bg-base py-16 px-24\">\r\n                        <h6 className=\"text-lg fw-semibold mb-0\">Active & inactive Users</h6>\r\n                    </div>\r\n                    <div className=\"card-body p-24 text-center d-flex flex-wrap align-items-start gap-5 justify-content-center\">\r\n                        <div className=\"position-relative\">\r\n                            { chartSeries ?\r\n                            <ReactApexChart id=\"basicDonutChart\" className=\"w-auto d-inline-block\" options={basicDonutChartOptions} series={chartSeries} type=\"donut\"\r\n                                height={264} /> : <></>\r\n                            }\r\n                            <div className=\"position-absolute start-50 top-50 translate-middle\">\r\n                                <span className=\"text-lg text-secondary-light fw-medium\">\r\n                                    Total Users\r\n                                </span>\r\n                                <h4 className=\"mb-0\">{users?.total_users}</h4>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"max-w-290-px w-100\">\r\n                            <div className=\"d-flex align-items-center justify-content-between gap-12 border pb-12 mb-12 border-end-0 border-top-0 border-start-0\">\r\n                                <span className=\"text-primary-light fw-medium text-sm\">Label</span>\r\n                                <span className=\"text-primary-light fw-medium text-sm\">Value</span>\r\n                                \r\n                            </div>\r\n                            <div className=\"d-flex align-items-center justify-content-between gap-12 mb-12\">\r\n                                <span className=\"text-primary-light fw-medium text-sm d-flex align-items-center gap-12\">\r\n                                    <span className=\"w-12-px h-12-px bg-success-600 rounded-circle\" />{\" \"}\r\n                                Active Users\r\n                                </span>\r\n                                <span className=\"text-primary-light fw-medium text-sm\">{users?.active_users}</span>\r\n                            </div>\r\n                            <div className=\"d-flex align-items-center justify-content-between gap-12 mb-12\">\r\n                                <span className=\"text-primary-light fw-medium text-sm d-flex align-items-center gap-12\">\r\n                                    <span className=\"w-12-px h-12-px bg-danger-600 rounded-circle\" />{\" \"}\r\n                                    Inactive users\r\n                                </span>\r\n                                <span className=\"text-primary-light fw-medium text-sm\">{users?.inactive_users}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    export default DashboardPieChart"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}