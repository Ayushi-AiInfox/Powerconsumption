{"ast":null,"code":"import{Icon}from'@iconify/react/dist/iconify.js';import{useState}from\"react\";import React from'react';import{apiPost}from\"../services/client\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignInLayer=()=>{const[email,setEmail]=useState(null);const[password,setPassword]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const navigate=useNavigate();const LoginUser=async()=>{try{var _res$data;console.log(\"login user.. \");setLoading(true);const data={email,password};console.log(data);const res=await apiPost('login',data);console.log('response',res);if((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.status)==true){var _res$data2,_res$data3,_res$data4,_res$data5;localStorage.setItem('token',res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.token);localStorage.setItem('role',res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.role);if((res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.role)=='user'){navigate(\"/dashboard\");}else if((res===null||res===void 0?void 0:(_res$data5=res.data)===null||_res$data5===void 0?void 0:_res$data5.role)=='admin'){navigate(\"/admin-dashboard\");}}else{var _res$response,_res$response$data;setError(res===null||res===void 0?void 0:(_res$response=res.response)===null||_res$response===void 0?void 0:(_res$response$data=_res$response.data)===null||_res$response$data===void 0?void 0:_res$response$data.message);}}catch(error){setError(error);console.log(error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"section\",{className:\"auth bg-base d-flex flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-left d-lg-block d-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center flex-column h-100 justify-content-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/login-image.png\",alt:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-right py-32 px-24 d-flex flex-column justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-464-px mx-auto w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sign-in-div\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mb-40 max-w-290-px\",children:/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/power-logo-1.png\",alt:\"\",className:\"sign-in-div-img\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-12\",children:\"Sign In to your Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-32 text-secondary-light text-lg\",children:\"Welcome back! please enter your detail\"})]}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"icon-field mb-16\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon top-50 translate-middle-y\",children:/*#__PURE__*/_jsx(Icon,{icon:\"mage:email\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control h-56-px bg-neutral-50 radius-12\",placeholder:\"Email\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative mb-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"icon-field\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon top-50 translate-middle-y\",children:/*#__PURE__*/_jsx(Icon,{icon:\"solar:lock-password-outline\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control h-56-px bg-neutral-50 radius-12\",id:\"your-password\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-password ri-eye-line cursor-pointer position-absolute end-0 top-50 translate-middle-y me-16 text-secondary-light\",\"data-toggle\":\"#your-password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check style-check d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input border border-neutral-300\",type:\"checkbox\",defaultValue:\"\",id:\"remeber\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"form-check-label\",htmlFor:\"remeber\",children:[\"Remember me\",\" \"]})]}),/*#__PURE__*/_jsx(Link,{to:\"forgot-password\",className:\"text-primary-600 fw-medium\",children:\"Forgot Password?\"})]})}),loading?/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32\",children:[\" \",\"Loading...\"]}):/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32\",onClick:LoginUser,children:[\" \",\"Sign In\"]})]})]})})]});};export default SignInLayer;","map":{"version":3,"names":["Icon","useState","React","apiPost","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","SignInLayer","email","setEmail","password","setPassword","loading","setLoading","error","setError","navigate","LoginUser","_res$data","console","log","data","res","status","_res$data2","_res$data3","_res$data4","_res$data5","localStorage","setItem","token","role","_res$response","_res$response$data","response","message","className","children","src","alt","to","action","icon","type","placeholder","onChange","e","target","value","id","defaultValue","htmlFor","onClick"],"sources":["C:/Users/ATS/Downloads/power-c/src/components/SignInLayer.jsx"],"sourcesContent":["import { Icon } from '@iconify/react/dist/iconify.js'\r\nimport { useState } from \"react\";\r\nimport React from 'react'\r\nimport { apiPost } from \"../services/client\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst SignInLayer = () => {\r\n\r\n\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [loading, setLoading] = useState(false)\r\n    const [error,setError] = useState(null);\r\n    const navigate = useNavigate()\r\n\r\n\r\n    const LoginUser = async () => {\r\n        try {\r\n           console.log(\"login user.. \")\r\n            setLoading(true)\r\n            const data = { email, password }\r\n            console.log(data);\r\n            const res = await apiPost('login', data);\r\n            console.log('response',res);\r\n         \r\n            if (res?.data?.status == true) {\r\n                localStorage.setItem('token',res?.data?.token);\r\n                localStorage.setItem('role',res?.data?.role);\r\n            \r\n                if (res?.data?.role=='user'){\r\n                    navigate(`/dashboard`)\r\n\r\n                }else if(res?.data?.role=='admin'){\r\n                    navigate(`/admin-dashboard`)\r\n                  }\r\n            } else {\r\n                setError(res?.response?.data?.message);\r\n\r\n            }\r\n        } catch (error) {\r\n            setError(error);\r\n            console.log(error);\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n    return (\r\n        <section className=\"auth bg-base d-flex flex-wrap\">\r\n            <div className=\"auth-left d-lg-block d-none\">\r\n                <div className=\"d-flex align-items-center flex-column h-100 justify-content-center\">\r\n                    <img src=\"assets/images/login-image.png\" alt=\"\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"auth-right py-32 px-24 d-flex flex-column justify-content-center\">\r\n                <div className=\"max-w-464-px mx-auto w-100\">\r\n                    <div className='sign-in-div'>\r\n                        <Link to=\"/\" className=\"mb-40 max-w-290-px\">\r\n                            <img src=\"assets/images/power-logo-1.png\" alt=\"\" className='sign-in-div-img'/>\r\n                        </Link>\r\n                        <h4 className=\"mb-12\">Sign In to your Account</h4>\r\n                        <p className=\"mb-32 text-secondary-light text-lg\">\r\n                            Welcome back! please enter your detail\r\n                        </p>\r\n                    </div>\r\n                    <form action=\"#\">\r\n                        <div className=\"icon-field mb-16\">\r\n                            <span className=\"icon top-50 translate-middle-y\">\r\n                                <Icon icon=\"mage:email\" />\r\n                            </span>\r\n                            <input\r\n                                type=\"email\"\r\n                                className=\"form-control h-56-px bg-neutral-50 radius-12\"\r\n                                placeholder=\"Email\"\r\n                                onChange={(e) => setEmail(e.target.value)} \r\n                            />\r\n                        </div>\r\n                        <div className=\"position-relative mb-20\">\r\n                            <div className=\"icon-field\">\r\n                                <span className=\"icon top-50 translate-middle-y\">\r\n                                    <Icon icon=\"solar:lock-password-outline\" />\r\n                                </span>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    className=\"form-control h-56-px bg-neutral-50 radius-12\"\r\n                                    id=\"your-password\"\r\n                                    placeholder=\"Password\"\r\n                                    onChange={(e) => setPassword(e.target.value)}\r\n                                />\r\n                            </div>\r\n                            <span\r\n                                className=\"toggle-password ri-eye-line cursor-pointer position-absolute end-0 top-50 translate-middle-y me-16 text-secondary-light\"\r\n                                data-toggle=\"#your-password\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"\">\r\n                            <div className=\"d-flex justify-content-between gap-2\">\r\n                                <div className=\"form-check style-check d-flex align-items-center\">\r\n                                    <input\r\n                                        className=\"form-check-input border border-neutral-300\"\r\n                                        type=\"checkbox\"\r\n                                        defaultValue=\"\"\r\n                                        id=\"remeber\"\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"remeber\">\r\n                                        Remember me{\" \"}\r\n                                    </label>\r\n                                </div>\r\n                                <Link to=\"forgot-password\" className=\"text-primary-600 fw-medium\">\r\n                                    Forgot Password?\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                        { loading ? \r\n                        <button\r\n                            \r\n                            className=\"btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32\"\r\n                        >\r\n                            {\" \"}\r\n                            Loading...\r\n                        </button> :\r\n\r\n<button\r\n\r\nclassName=\"btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32\"\r\nonClick={LoginUser}\r\n>\r\n{\" \"}\r\nSign In\r\n</button>\r\n}\r\n                        {/* <div className=\"mt-32 center-border-horizontal text-center\">\r\n                            <span className=\"bg-base z-1 px-4\">Or sign in with</span>\r\n                        </div> */}\r\n                        {/* <div className=\"mt-32 d-flex align-items-center gap-3\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"fw-semibold text-primary-light py-16 px-24 w-50 border radius-12 text-md d-flex align-items-center justify-content-center gap-12 line-height-1 bg-hover-primary-50\"\r\n                            >\r\n                                <Icon\r\n                                    icon=\"ic:baseline-facebook\"\r\n                                    className=\"text-primary-600 text-xl line-height-1\"\r\n                                />\r\n                                Google\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"fw-semibold text-primary-light py-16 px-24 w-50 border radius-12 text-md d-flex align-items-center justify-content-center gap-12 line-height-1 bg-hover-primary-50\"\r\n                            >\r\n                                <Icon\r\n                                    icon=\"logos:google-icon\"\r\n                                    className=\"text-primary-600 text-xl line-height-1\"\r\n                                />\r\n                                Google\r\n                            </button>\r\n                        </div> */}\r\n                        {/* <div className=\"mt-32 text-center text-sm\">\r\n                            <p className=\"mb-0\">\r\n                                Don’t have an account?{\" \"}\r\n                                <Link to=\"/sign-up\" className=\"text-primary-600 fw-semibold\">\r\n                                    Sign Up\r\n                                </Link>\r\n                            </p>\r\n                        </div> */}\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n    )\r\n}\r\n\r\nexport default SignInLayer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}