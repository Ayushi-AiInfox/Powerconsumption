{"ast":null,"code":"import React,{useEffect,useState}from'react';import $ from'jquery';import'datatables.net-dt/js/dataTables.dataTables.js';import{Icon}from'@iconify/react/dist/iconify.js';import{Link}from'react-router-dom';import{apiGet}from\"../services/client\";import moment from\"moment\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MeterLayers=()=>{const[data,setData]=useState([]);const getData=async()=>{try{var _res$data;const res=await apiGet(\"userapp/meter-list\");if((res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.status)===true){var _res$data2;console.log(res);const newData=res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.data;setData(newData);// Initialize DataTables after data fetching\nsetTimeout(()=>{$(\"#dataTable\").DataTable({pageLength:10});},0);}else{var _res$data3;console.log(res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.message);}}catch(e){console.log(e);}};useEffect(()=>{getData();return()=>{if($.fn.DataTable.isDataTable(\"#dataTable\")){$(\"#dataTable\").DataTable().destroy(true);}};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"card basic-data-table\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title mb-0\",children:\"Meter List\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table bordered-table mb-0\",id:\"dataTable\",\"data-page-length\":10,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check style-check d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:\"S.R\"})]})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Meter ID\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Created At\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data===null||data===void 0?void 0:data.map((item,index)=>{return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check style-check d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\"}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",children:index})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"text-primary-600\",children:[\"Meter \",item===null||item===void 0?void 0:item.id]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"text-md mb-0 fw-medium flex-grow-1\",children:item===null||item===void 0?void 0:item.location})})}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"bg-success-focus text-success-main px-24 py-4 rounded-pill fw-medium text-sm\",children:\"Active\"})]}),/*#__PURE__*/_jsx(\"td\",{children:moment(item===null||item===void 0?void 0:item.created_at).format(\"MMMM Do YYYY, h:mm:ss A\")}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/meter-view?id=\".concat(item===null||item===void 0?void 0:item.id),className:\"w-32-px h-32-px me-8 bg-primary-light text-primary-600 rounded-circle d-inline-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Icon,{icon:\"iconamoon:eye-light\"})}),/*#__PURE__*/_jsx(Link,{to:\"#\",className:\"w-32-px h-32-px me-8 bg-danger-focus text-danger-main rounded-circle d-inline-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Icon,{icon:\"mingcute:delete-2-line\"})})]})]});})})]})})]});};export default MeterLayers;","map":{"version":3,"names":["React","useEffect","useState","$","Icon","Link","apiGet","moment","jsx","_jsx","jsxs","_jsxs","MeterLayers","data","setData","getData","_res$data","res","status","_res$data2","console","log","newData","setTimeout","DataTable","pageLength","_res$data3","message","e","fn","isDataTable","destroy","className","children","id","scope","type","map","item","index","to","location","created_at","format","concat","icon"],"sources":["C:/Users/ATS/Downloads/power-c/src/components/MeterLayers.jsx"],"sourcesContent":["import React, { useEffect ,useState} from 'react'\r\nimport $ from 'jquery';\r\nimport 'datatables.net-dt/js/dataTables.dataTables.js';\r\nimport { Icon } from '@iconify/react/dist/iconify.js';\r\nimport { Link } from 'react-router-dom';\r\nimport { apiGet } from \"../services/client\";\r\nimport moment from \"moment\";\r\n\r\nconst MeterLayers = () => {\r\n    const [data, setData] = useState([]);\r\n    const getData = async () => {\r\n        try {\r\n            const res = await apiGet(\"userapp/meter-list\");\r\n            if (res?.data?.status === true) {\r\n                console.log(res);\r\n                const newData = res?.data?.data;\r\n                setData(newData);\r\n\r\n                // Initialize DataTables after data fetching\r\n                setTimeout(() => {\r\n                    $(\"#dataTable\").DataTable({\r\n                        pageLength: 10,\r\n                    });\r\n                }, 0);\r\n            } else {\r\n                console.log(res?.data?.message);\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getData();\r\n\r\n        return () => {\r\n            if ($.fn.DataTable.isDataTable(\"#dataTable\")) {\r\n                $(\"#dataTable\").DataTable().destroy(true);\r\n            }\r\n        };\r\n    }, []);\r\n    return (\r\n        <div className=\"card basic-data-table\">\r\n            <div className=\"card-header\">\r\n                <h5 className=\"card-title mb-0\">Meter List</h5>\r\n            </div>\r\n            <div className=\"card-body\">\r\n                <table\r\n                    className=\"table bordered-table mb-0\"\r\n                    id=\"dataTable\"\r\n                    data-page-length={10}\r\n                >\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">\r\n                                <div className=\"form-check style-check d-flex align-items-center\">\r\n                                    <input className=\"form-check-input\" type=\"checkbox\" />\r\n                                    <label className=\"form-check-label\">S.R</label>\r\n                                </div>\r\n                            </th>\r\n                            <th scope=\"col\">Meter ID</th>\r\n                            <th scope=\"col\">Location</th>\r\n                            <th scope=\"col\">Status</th>\r\n                            <th scope=\"col\">Created At</th>\r\n                            <th scope=\"col\">Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                        { data?.map((item,index)=>{\r\n                            return(\r\n\r\n\r\n                                <tr>\r\n                            <td>\r\n                                <div className=\"form-check style-check d-flex align-items-center\">\r\n                                    <input className=\"form-check-input\" type=\"checkbox\" />\r\n                                    <label className=\"form-check-label\">{index}</label>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <Link to=\"#\" className=\"text-primary-600\">\r\n                                    Meter {item?.id}\r\n                                </Link>\r\n                            </td>\r\n                            <td>\r\n                                <div className=\"d-flex align-items-center\">\r\n                                  \r\n                                    <h6 className=\"text-md mb-0 fw-medium flex-grow-1\">\r\n                                        {item?.location}\r\n                                    </h6>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                {\" \"}\r\n                                <span className=\"bg-success-focus text-success-main px-24 py-4 rounded-pill fw-medium text-sm\">\r\n                                    Active\r\n                                </span>\r\n                            </td>\r\n                            \r\n                            <td>{moment(item?.created_at).format(\"MMMM Do YYYY, h:mm:ss A\")}</td>\r\n                       \r\n                            <td>\r\n                                <Link\r\n                                    to={`/meter-view?id=${item?.id}`}\r\n                                    className=\"w-32-px h-32-px me-8 bg-primary-light text-primary-600 rounded-circle d-inline-flex align-items-center justify-content-center\"\r\n                                >\r\n                                    <Icon icon=\"iconamoon:eye-light\" />\r\n                                </Link>\r\n                                <Link\r\n                                    to=\"#\"\r\n                                    className=\"w-32-px h-32-px me-8 bg-danger-focus text-danger-main rounded-circle d-inline-flex align-items-center justify-content-center\"\r\n                                >\r\n                                    <Icon icon=\"mingcute:delete-2-line\" />\r\n                                </Link>\r\n                            </td>\r\n                        </tr>\r\n\r\n\r\n                            );\r\n                        })\r\n                        \r\n\r\n}\r\n\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default MeterLayers"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}